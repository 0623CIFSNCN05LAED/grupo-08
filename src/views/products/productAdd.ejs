<!doctype html>
<html lang="es">
  <head>
    <%- include("../partials/head") %>
    <link rel="stylesheet" href="/css/styles-productAdd.css" />

    <title>Kairos Add Products</title>
  </head>

  <body>
    <%- include("../partials/header") %>

    <form action="/products" method="post" enctype="multipart/form-data">
      <div class="form-body">
        <div class="text-form">
          <p class="text">¡Cargá un nuevo producto!</p>
          <p class="text-medium">Por favor completá los datos:</p>
        </div>

        <div class="form-register">
          <label>Modelo</label>
          <input
            type="text"
            name="name"
            id="name"
            value="<%= locals.errors ? oldData.first_name : null %>"
          />
          <% if (locals.errors && errors.name) { %>
          <div class="text-danger"><%= errors.name.msg %></div>
          <% } %>
        </div>

        <select name="brand" class="form-register">
          <option value="">Selecciona una marca</option>
          <!-- Opción vacía o predeterminada -->
          <% brand.forEach(brand => { %>
          <option value="<%= brand.id %>"><%= brand.name %></option>
          <% }); %>
        </select>

        <% if (locals.errors && errors.brand) { %>
        <div class="text-danger"><%= errors.brand.msg %></div>
        <% } %>

        <select name="category" class="form-register">
          <option value="">Selecciona una Categoria</option>
          <!-- Opción vacía o predeterminada -->
          <% category.forEach(category => { %>
          <option value="<%= category.id %>"><%= category.name %></option>
          <% }); %>
        </select>

        <% if (locals.errors && errors.category) { %>
        <div class="text-danger"><%= errors.category.msg %></div>
        <% } %>

        <div class="form-register">
          <label>Descripción</label>
          <input type="text" name="description" id="description" />
          <% if (locals.errors && errors.description) { %>
          <div class="text-danger"><%= errors.description.msg %></div>
          <% } %>
        </div>

        <div class="form-register">
          <label>Precio</label>
          <input type="number" name="price" id="price" />
          <% if (locals.errors && errors.price) { %>
          <div class="text-danger"><%= errors.price.msg %></div>
          <% } %>
        </div>

        <div class="form-register">
          <label for="image">Imagen Producto:</label>
          <input type="file" name="image" id="image" />
          <% if (locals.errors && errors.image) { %>
          <div class="text-danger"><%= errors.image.msg %></div>
          <% } %>
        </div>
        <div class="form-register">
          <button type="submit">Guardar</button>
        </div>
      </div>
    </form>

    <%- include("../partials/footer") %>
  </body>
</html>
